server:
    #指定端口号
    port: 8082
spring:
    datasource:
        druid:
            url: jdbc:mysql://192.168.47.133:3306/shop?useSSL=false&serverTimezone=GMT%2B8&useUnicode=true&characterEncoding=UTF8
            username: root
            password: 12345678
            driver-class-name: com.mysql.cj.jdbc.Driver
            max-active: 30  #最主要参数，配置连接池同时能维持的最大连接数
            min-idle: 3 #maxIdle告诉tomcat最多维持多少个空闲连接，minIdle告诉tomcat即使客户端没有需求，也要至少维持多少个空闲连接,以应对客户端的突发需求
            initial-size: 3 #连接池启动时要初始化多少个连接，即使客户端这是没有需求，也会初始化空闲连接
            validation-query: select 1 #检查连接可用性的语句
            max-wait: 5000
            stat-view-servlet:
                enabled: true
                login-username: admin
                login-password: admin
                allow:
                deny:
                url-pattern:
                    - /druid/*               
    rabbitmq:
        host: 192.168.47.133
        password: 123456
        username: shop
        port: 5672
        virtual-host: /v-shop
        listener:
            simple:
                #手动签收消息  默认是自动的
                acknowledge-mode: manual  
    #redis相关配置            
    redis:
        host: 192.168.47.133
        port: 6380
        password: 123456
        database: 0                    
management:
    endpoints:
        web:
            exposure:
                include: '*'
#MyBatisPlus配置 
mybatis-plus:
    #指定映射文件位置
    mapper-locations: classpath:mapper/**/*.xml
    configuration:
        #打印SQL
        log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
feign:
    hystrix:
        enabled: true
ribbon:
    ReadTimeout: 5000
    ConnectTimeout: 5000
hystrix:    #hystrix的全局控制
    command:
        default:    #default是全局控制，也可以换成单个方法控制，把default换成方法名即可
            fallback:
                isolation:
                    semaphore:
                        maxConcurrentRequests: 1000        
            circuitBreaker:
                enabled: true   #开启断路器
                requestVolumeThreshold: 20   #失败次数（阀值）
                sleepWindowInMilliseconds: 30000    #窗口时间
                errorThresholdPercentage: 60    #失败率
            execution:
                isolation:
                    strategy: SEMAPHORE  #使用信号量隔离方式
                    thread:
                        timeoutInMilliseconds: 5000
                    semaphore:
                        maxConcurrentRequests: 1000  #最大并发量    
swagger3:
    base-package: com.powernode.controller
    name: powernode
    url: https://gitee.com/powernode
    email: 3076388199@qq.com
    title: 后台管理系统接口
    description: 实现后台管理系统的所有接口
    license: powernode
    license-url: https://gitee.com/powernode
    terms-of-service-url: https://gitee.com/powernode
